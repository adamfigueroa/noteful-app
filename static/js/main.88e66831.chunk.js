(this.webpackJsonpnoteful=this.webpackJsonpnoteful||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n(1),r=n.n(a),c=n(22),s=n.n(c),i=n(3),d=(n(29),n(19)),l=n(5),h=n(6),u=n(8),j=n(7),f=n(2),b=(n(30),function(){return Object(o.jsx)("header",{className:"headerBox",children:Object(o.jsx)("h1",{children:Object(o.jsx)(i.b,{to:"/",className:"headerText",children:"Noteful"})})})}),m=n(12),p=n.n(m),O=Object(a.createContext)({folders:[],notes:[],handleDeleteNote:function(){},handleAddFolder:function(){},handleAddNote:function(){}});O.displayName="AppContext",O.propTypes={folders:p.a.array,notes:p.a.array,handleDeleteNote:p.a.func,handleAddFolder:p.a.func,handleAddNote:p.a.func};var x=O,N=(n(36),function(){return Object(o.jsx)(x.Consumer,{children:function(e){var t=e.folders;return Object(o.jsxs)("div",{className:"folderList",children:[t.map((function(e){return Object(o.jsx)(i.b,{to:"/folder/".concat(e.id),className:"folderLink",children:e.name},e.id)})),Object(o.jsx)(i.b,{to:"/addFolder",children:Object(o.jsx)("button",{className:"folderListBtn",children:"Add Folder"})})]})}})}),v=n(44),y=(n(37),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleDeleteNote=function(t){var n="http://localhost:9090/notes/".concat(t);fetch(n,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){if(!n.ok)throw new Error(n.status);e.context.handleDeleteNote(t)})).catch((function(e){return console.log(e)}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.context.notes.map((function(t){var n=new Date(t.modified),a=Object(v.a)(n,"do LLL yyyy");return Object(o.jsx)("li",{className:"note",children:Object(o.jsxs)("div",{className:"noteItem",children:[Object(o.jsx)("h2",{className:"noteName",children:Object(o.jsx)(i.b,{to:"/note/".concat(t.id),children:t.name})}),Object(o.jsxs)("p",{children:["Last change: ",a]}),Object(o.jsx)("button",{className:"deleteNoteBtn",onClick:function(){return e.handleDeleteNote(t.id)},children:"Delete"})]})},t.id)}));return Object(o.jsxs)("div",{className:"noteBox",children:[Object(o.jsx)("ul",{className:"noteList",children:t}),Object(o.jsx)(i.b,{to:"/addNote",children:Object(o.jsx)("button",{className:"addNoteBtn",children:"Add Note"})})]})}}]),n}(a.Component));y.contextType=x;var g=y,k=function(){return Object(o.jsx)(x.Consumer,{children:function(e){var t=e.folders;return Object(o.jsxs)("div",{className:"folderList",children:[t.map((function(e){return Object(o.jsx)(i.c,{to:"/folder/".concat(e.id),className:"folderLink",activeClassName:"selected",children:e.name},e.id)})),Object(o.jsx)(i.b,{to:"/addFolder",children:Object(o.jsx)("button",{className:"folderListBtn",children:"Add Folder"})})]})}})},D=(n(38),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.context,n=t.folders,a=t.notes,r=this.props.match.params.noteId,c=(a.find((function(e){return e.id===r}))||{folderId:""}).folderId,s=n.find((function(e){return e.id===c}))||{name:""};return Object(o.jsxs)("div",{className:"noteSideBar",children:[Object(o.jsx)("h2",{children:s.name}),Object(o.jsx)("button",{className:"backBtn",onClick:function(){return e.props.history.goBack()},children:"Back"})]})}}]),n}(a.Component));D.contextType=x;var B=D,w=(n(39),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleDeleteNote=function(t){var n="http://localhost:9090/notes/".concat(t);fetch(n,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){if(!n.ok)throw new Error(n.status);e.context.handleDeleteNote(t)})).catch((function(e){return console.log(e)}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.context.notes,n=this.props.match.params.folderId,a=t.filter((function(e){return e.folderId===n})).map((function(t){var n=new Date(t.modified),a=Object(v.a)(n,"do LLL yyyy");return Object(o.jsx)("li",{className:"note",children:Object(o.jsxs)("div",{className:"noteItem",children:[Object(o.jsx)("h2",{className:"noteName",children:Object(o.jsx)(i.b,{to:"/note/".concat(t.id),children:t.name})}),Object(o.jsxs)("p",{children:["Last change: ",a]}),Object(o.jsx)("button",{className:"deleteNoteBtn",onClick:function(){return e.handleDeleteNote(t.id)},children:"Delete"})]})},t.id)}));return Object(o.jsxs)("div",{className:"noteBox",children:[0===a.length&&Object(o.jsx)("p",{children:"Folder Empty"}),Object(o.jsx)("ul",{className:"noteList",children:a}),Object(o.jsx)(i.b,{to:"/addNote",children:Object(o.jsx)("button",{className:"addNoteBtn",children:"Add Note"})})]})}}]),n}(a.Component));w.contextType=x;var F=w,A=(n(40),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleDelete=function(t){var n="http://localhost:9090/notes/".concat(t);fetch(n,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){if(!n.ok)throw new Error(n.status);e.context.handleDeleteNote(t)})).then((function(){return e.props.history.goBack()})).catch((function(e){return console.log(e)}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.context.notes,n=this.props.match.params.noteId,a=t.find((function(e){return e.id===n}))||{id:n,modified:(new Date).toISOString()},r=new Date(a.modified),c=Object(v.a)(r,"do LLL yyyy");return Object(o.jsxs)("section",{className:"detailedNote",children:[Object(o.jsx)("div",{className:"noteTitle",children:Object(o.jsx)("h2",{children:a.name})}),Object(o.jsx)("div",{className:"noteInfo",children:Object(o.jsxs)("p",{children:["Last change: ",c]})}),Object(o.jsx)("div",{className:"noteDetail",children:a.content}),Object(o.jsx)("button",{className:"deleteBtn",onClick:function(){return e.handleDelete(a.id)},children:"Delete"})]})}}]),n}(a.Component));A.contextType=x;var I=A,S=n(14),E=(n(41),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={folderName:""},e.folderNameValue=function(t){e.setState({folderName:t.target.value})},e.handleAddFolder=function(t){t.preventDefault();fetch("http://localhost:9090/folders",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.state.folderName})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.context.handleAddFolder(t),e.setState({folderName:""}),e.props.history.goBack()})).catch((function(){return alert("Something went wrong")}))},e.folderValidator=function(){if(""===e.state.folderName)return!0},e.updateForm=function(t){var n;e.setState((n={},Object(S.a)(n,t.target.id,t.target.value),Object(S.a)(n,"touched",!0),n))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"addFolderBox",children:[Object(o.jsxs)("form",{className:"addFolderMenu",onSubmit:function(t){return e.handleAddFolder(t)},children:[Object(o.jsx)("label",{htmlFor:"nameInput",children:"Folder Name"}),Object(o.jsx)("input",{className:"nameInput",name:"nameInput",id:"folderName",onChange:this.updateForm}),this.folderValidator()&&this.state.touched&&Object(o.jsx)("p",{className:"warningBox",children:"Don't forget to add a name!"}),Object(o.jsx)("button",{className:"submit",disabled:this.folderValidator(),children:"Add Folder"})]}),Object(o.jsx)("button",{className:"backBtn",onClick:this.props.history.goBack,children:"Go Back"})]})}}]),n}(a.Component));E.defaultProps={history:{goBack:function(){}}},E.contextType=x;var C=E,L=(n(42),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",content:"",folderId:"",modified:"",touched:!1},e.updateForm=function(t){var n;e.setState((n={},Object(S.a)(n,t.target.id,t.target.value),Object(S.a)(n,"touched",!0),n))},e.handleAddNote=function(t){t.preventDefault();fetch("http://localhost:9090/notes",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.state.name,content:e.state.content,folderId:e.state.folderId,modified:e.state.modified})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.context.handleAddNote(t),e.props.history.goBack()})).catch((function(){return alert("Oh dang, you were never supposed to see this page...this is awkward, please refresh the page.")}))},e.folderOptions=function(){return e.context.folders.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name},e.id)}))},e.handleModified=function(){var t=(new Date).toISOString();e.setState({modified:t})},e.nameValidator=function(){if(""===e.state.name)return!0},e.contentValidator=function(){if(""===e.state.content)return!0},e.folderValidator=function(){if(""===e.state.folderId)return!0},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.handleModified()}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"addNoteBox",children:[Object(o.jsxs)("form",{className:"addNoteMenu",onSubmit:function(t){return e.handleAddNote(t)},children:[Object(o.jsx)("label",{htmlFor:"noteNameInput",children:"Note Name:"}),Object(o.jsx)("input",{className:"noteNameInput",id:"name",name:"noteNameInput",placeholder:"Enter name here",onChange:function(t){return e.updateForm(t)}}),this.nameValidator()&&this.state.touched&&Object(o.jsx)("p",{className:"warningBox",children:"Don't forget to add a name!"}),Object(o.jsx)("label",{htmlFor:"noteDetail",children:"Note Details:"}),Object(o.jsx)("textarea",{className:"noteDetail",id:"content",name:"noteDetail",rows:"4",cols:"50",placeholder:"Put note details here",onChange:function(t){return e.updateForm(t)}}),Object(o.jsxs)("select",{name:"folder",id:"folderId",onChange:function(t){return e.updateForm(t)},children:[Object(o.jsx)("option",{children:"Select Folder"}),this.folderOptions()]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"submitNote",disabled:this.nameValidator()||this.contentValidator()||this.folderValidator(),children:"Submit Note"})})]}),Object(o.jsx)("button",{className:"backBtn",onClick:this.props.history.goBack,children:"Go Back"})]})}}]),n}(a.Component));L.defaultProps={history:{goBack:function(){}}},L.contextType=x;var T=L,V=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(h.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(o.jsx)("div",{className:"errorBox",children:Object(o.jsx)("p",{children:"Oh no! your folders aren't here...Try refreshing the page."})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),P=Object(f.f)(V),M=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(h.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(o.jsx)("div",{className:"errorBox",children:Object(o.jsx)("p",{children:"Oh no! your notes aren't here...Try refreshing the page."})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),J=Object(f.f)(M),G=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={folders:[],notes:[]},e.fetchFolders=function(){fetch("http://localhost:9090/folders").then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.setState({folders:t})})).catch((function(e){return console.log(e.message)}))},e.fetchNotes=function(){fetch("http://localhost:9090/notes").then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.setState({notes:t})})).catch((function(e){return console.log(e.message)}))},e.handleDeleteNote=function(t){var n=e.state.notes.filter((function(e){return e.id!==t}));e.setState({notes:n})},e.handleAddFolder=function(t){e.setState({folders:[].concat(Object(d.a)(e.state.folders),[t])})},e.handleAddNote=function(t){e.setState({notes:[].concat(Object(d.a)(e.state.notes),[t])})},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.fetchFolders(),this.fetchNotes()}},{key:"render",value:function(){return Object(o.jsxs)("main",{className:"App",children:[Object(o.jsx)(b,{}),Object(o.jsx)(x.Provider,{value:{folders:this.state.folders,notes:this.state.notes,handleDeleteNote:this.handleDeleteNote,handleAddFolder:this.handleAddFolder,handleAddNote:this.handleAddNote},children:Object(o.jsxs)(f.c,{children:[Object(o.jsx)(f.a,{path:"/addFolder",exact:!0,component:C}),Object(o.jsx)(f.a,{path:"/addNote",exact:!0,component:T}),Object(o.jsx)(r.a.Fragment,{children:Object(o.jsxs)("div",{className:"bodyBox",children:[Object(o.jsx)("section",{className:"sideBarBox",children:Object(o.jsxs)(P,{children:[Object(o.jsx)(f.a,{path:"/",exact:!0,component:N}),Object(o.jsx)(f.a,{path:"/folder/:folderId",component:k}),Object(o.jsx)(f.a,{path:"/note/:noteId",component:B})]})}),Object(o.jsx)("section",{className:"noteViewBox",children:Object(o.jsxs)(J,{children:[Object(o.jsx)(f.a,{path:"/",exact:!0,component:g}),Object(o.jsx)(f.a,{path:"/folder/:folderId",component:F}),Object(o.jsx)(f.a,{path:"/note/:noteId",component:I})]})})]})})]})})]})}}]),n}(a.Component);s.a.render(Object(o.jsx)(i.a,{children:Object(o.jsx)(G,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.88e66831.chunk.js.map