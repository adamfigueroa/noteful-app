(this.webpackJsonpnoteful=this.webpackJsonpnoteful||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n(1),c=n(22),r=n.n(c),s=n(3),i=(n(29),n(19)),d=n(5),l=n(6),h=n(8),u=n(7),j=n(2),f=(n(30),function(){return Object(o.jsx)("header",{className:"headerBox",children:Object(o.jsx)("h1",{children:Object(o.jsx)(s.b,{to:"/",className:"headerText",children:"Noteful"})})})}),b=Object(a.createContext)({folders:[],notes:[],handleDeleteNote:function(){},handleAddFolder:function(){},handleAddNote:function(){}});b.displayName="AppContext";var m=b,p=(n(36),function(){return Object(o.jsx)(m.Consumer,{children:function(e){var t=e.folders;return Object(o.jsxs)("div",{className:"folderList",children:[t.map((function(e){return Object(o.jsx)(s.b,{to:"/folder/".concat(e.id),className:"folderLink",children:e.name},e.id)})),Object(o.jsx)(s.b,{to:"/addFolder",children:Object(o.jsx)("button",{className:"folderListBtn",children:"Add Folder"})})]})}})}),O=n(44),x=(n(37),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleDeleteNote=function(t){var n="http://localhost:9090/notes/".concat(t);fetch(n,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){if(!n.ok)throw new Error(n.status);e.context.handleDeleteNote(t)})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.context.notes.map((function(t){var n=new Date(t.modified),a=Object(O.a)(n,"do LLL yyyy");return Object(o.jsx)("li",{className:"note",children:Object(o.jsxs)("div",{className:"noteItem",children:[Object(o.jsx)("h2",{className:"noteName",children:Object(o.jsx)(s.b,{to:"/note/".concat(t.id),children:t.name})}),Object(o.jsxs)("p",{children:["Last change: ",a]}),Object(o.jsx)("button",{className:"deleteNoteBtn",onClick:function(){return e.handleDeleteNote(t.id)},children:"Delete"})]})},t.id)}));return Object(o.jsxs)("div",{className:"noteBox",children:[Object(o.jsx)("ul",{className:"noteList",children:t}),Object(o.jsx)(s.b,{to:"/addNote",children:Object(o.jsx)("button",{className:"addNoteBtn",children:"Add Note"})})]})}}]),n}(a.Component));x.contextType=m;var N=x,v=function(){return Object(o.jsx)(m.Consumer,{children:function(e){var t=e.folders;return Object(o.jsxs)("div",{className:"folderList",children:[t.map((function(e){return Object(o.jsx)(s.c,{to:"/folder/".concat(e.id),className:"folderLink",activeClassName:"selected",children:e.name},e.id)})),Object(o.jsx)(s.b,{to:"/addFolder",children:Object(o.jsx)("button",{className:"folderListBtn",children:"Add Folder"})})]})}})},y=(n(38),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.context,n=t.folders,a=t.notes,c=this.props.match.params.noteId,r=(a.find((function(e){return e.id===c}))||{folderId:""}).folderId,s=n.find((function(e){return e.id===r}))||{name:""};return Object(o.jsxs)("div",{className:"noteSideBar",children:[Object(o.jsx)("h2",{children:s.name}),Object(o.jsx)("button",{className:"backBtn",onClick:function(){return e.props.history.goBack()},children:"Back"})]})}}]),n}(a.Component));y.contextType=m;var g=y,k=(n(39),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleDeleteNote=function(t){var n="http://localhost:9090/notes/".concat(t);fetch(n,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){if(!n.ok)throw new Error(n.status);e.context.handleDeleteNote(t)})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.context.notes,n=this.props.match.params.folderId,a=t.filter((function(e){return e.folderId===n})).map((function(t){var n=new Date(t.modified),a=Object(O.a)(n,"do LLL yyyy");return Object(o.jsx)("li",{className:"note",children:Object(o.jsxs)("div",{className:"noteItem",children:[Object(o.jsx)("h2",{className:"noteName",children:Object(o.jsx)(s.b,{to:"/note/".concat(t.id),children:t.name})}),Object(o.jsxs)("p",{children:["Last change: ",a]}),Object(o.jsx)("button",{className:"deleteNoteBtn",onClick:function(){return e.handleDeleteNote(t.id)},children:"Delete"})]})},t.id)}));return Object(o.jsxs)("div",{className:"noteBox",children:[0===a.length&&Object(o.jsx)("p",{children:"Folder Empty"}),Object(o.jsx)("ul",{className:"noteList",children:a}),Object(o.jsx)(s.b,{to:"/addNote",children:Object(o.jsx)("button",{className:"addNoteBtn",children:"Add Note"})})]})}}]),n}(a.Component));k.contextType=m;var D=k,B=(n(40),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleDelete=function(t){var n="http://localhost:9090/notes/".concat(t);fetch(n,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){if(!n.ok)throw new Error(n.status);e.context.handleDeleteNote(t)})).then((function(){return e.props.history.goBack()})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.context.notes,n=this.props.match.params.noteId,a=t.find((function(e){return e.id===n}))||{id:n,modified:(new Date).toISOString()},c=new Date(a.modified),r=Object(O.a)(c,"do LLL yyyy");return Object(o.jsxs)("section",{className:"detailedNote",children:[Object(o.jsx)("div",{className:"noteTitle",children:Object(o.jsx)("h2",{children:a.name})}),Object(o.jsx)("div",{className:"noteInfo",children:Object(o.jsxs)("p",{children:["Last change: ",r]})}),Object(o.jsx)("div",{className:"noteDetail",children:a.content}),Object(o.jsx)("button",{className:"deleteBtn",onClick:function(){return e.handleDelete(a.id)},children:"Delete"})]})}}]),n}(a.Component));B.contextType=m;var w=B,F=n(13),A=(n(41),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={folderName:""},e.folderNameValue=function(t){e.setState({folderName:t.target.value})},e.handleAddFolder=function(t){t.preventDefault();fetch("http://localhost:9090/folders",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.state.folderName})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.context.handleAddFolder(t),e.setState({folderName:""}),e.props.history.goBack()})).catch((function(){return alert("Something went wrong")}))},e.folderValidator=function(){if(""===e.state.folderName)return!0},e.updateForm=function(t){var n;e.setState((n={},Object(F.a)(n,t.target.id,t.target.value),Object(F.a)(n,"touched",!0),n))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"addFolderBox",children:[Object(o.jsxs)("form",{className:"addFolderMenu",onSubmit:function(t){return e.handleAddFolder(t)},children:[Object(o.jsx)("label",{htmlFor:"nameInput",children:"Folder Name"}),Object(o.jsx)("input",{className:"nameInput",name:"nameInput",id:"folderName",onChange:this.updateForm}),this.folderValidator()&&this.state.touched&&Object(o.jsx)("p",{className:"warningBox",children:"Don't forget to add a name!"}),Object(o.jsx)("button",{className:"submit",disabled:this.folderValidator(),children:"Add Folder"})]}),Object(o.jsx)("button",{className:"backBtn",onClick:this.props.history.goBack,children:"Go Back"})]})}}]),n}(a.Component));A.defaultProps={history:{goBack:function(){}}},A.contextType=m;var I=A,S=(n(42),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={name:"",content:"",folderId:"",modified:"",touched:!1},e.updateForm=function(t){var n;e.setState((n={},Object(F.a)(n,t.target.id,t.target.value),Object(F.a)(n,"touched",!0),n))},e.handleAddNote=function(t){t.preventDefault();fetch("http://localhost:9090/notes",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.state.name,content:e.state.content,folderId:e.state.folderId,modified:e.state.modified})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.context.handleAddNote(t),e.props.history.goBack()})).catch((function(){return alert("Oh dang, you were never supposed to see this page...this is awkward, please refresh the page.")}))},e.folderOptions=function(){return e.context.folders.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name},e.id)}))},e.handleModified=function(){var t=(new Date).toISOString();e.setState({modified:t})},e.nameValidator=function(){if(""===e.state.name)return!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.handleModified()}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"addNoteBox",children:[Object(o.jsxs)("form",{className:"addNoteMenu",onSubmit:function(t){return e.handleAddNote(t)},children:[Object(o.jsx)("label",{htmlFor:"noteNameInput",children:"Note Name:"}),Object(o.jsx)("input",{className:"noteNameInput",id:"name",name:"noteNameInput",placeholder:"Enter name here",onChange:function(t){return e.updateForm(t)}}),this.nameValidator()&&this.state.touched&&Object(o.jsx)("p",{className:"warningBox",children:"Don't forget to add a name!"}),Object(o.jsx)("label",{htmlFor:"noteDetail",children:"Note Details:"}),Object(o.jsx)("textarea",{className:"noteDetail",id:"content",name:"noteDetail",rows:"4",cols:"50",placeholder:"Put note details here",onChange:function(t){return e.updateForm(t)}}),Object(o.jsxs)("select",{name:"folder",id:"folderId",onChange:function(t){return e.updateForm(t)},children:[Object(o.jsx)("option",{children:"Select Folder"}),this.folderOptions()]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"submitNote",disabled:this.nameValidator(),children:"Submit Note"})})]}),Object(o.jsx)("button",{className:"backBtn",onClick:this.props.history.goBack,children:"Go Back"})]})}}]),n}(a.Component));S.defaultProps={history:{goBack:function(){}}},S.contextType=m;var E=S,C=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(l.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(o.jsx)("div",{className:"errorBox",children:Object(o.jsx)("p",{children:"Oh no! your folders aren't here...Try refreshing the page."})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),L=Object(j.f)(C),T=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(l.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(o.jsx)("div",{className:"errorBox",children:Object(o.jsx)("p",{children:"Oh no! your notes aren't here...Try refreshing the page."})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),P=Object(j.f)(T),V=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={folders:[],notes:[]},e.fetchFolders=function(){fetch("http://localhost:9090/folders").then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.setState({folders:t})})).catch((function(e){return console.log(e.message)}))},e.fetchNotes=function(){fetch("http://localhost:9090/notes").then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.setState({notes:t})})).catch((function(e){return console.log(e.message)}))},e.handleDeleteNote=function(t){var n=e.state.notes.filter((function(e){return e.id!==t}));e.setState({notes:n})},e.handleAddFolder=function(t){e.setState({folders:[].concat(Object(i.a)(e.state.folders),[t])})},e.handleAddNote=function(t){e.setState({notes:[].concat(Object(i.a)(e.state.notes),[t])})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchFolders(),this.fetchNotes()}},{key:"render",value:function(){return Object(o.jsxs)("main",{className:"App",children:[Object(o.jsx)(f,{}),Object(o.jsx)(m.Provider,{value:{folders:this.state.folders,notes:this.state.notes,handleDeleteNote:this.handleDeleteNote,handleAddFolder:this.handleAddFolder,handleAddNote:this.handleAddNote},children:Object(o.jsxs)(j.c,{children:[Object(o.jsx)(j.a,{path:"/addFolder",exact:!0,component:I}),Object(o.jsx)(j.a,{path:"/addNote",exact:!0,component:E}),Object(o.jsxs)("div",{className:"bodyBox",children:[Object(o.jsx)("section",{className:"sideBarBox",children:Object(o.jsxs)(L,{children:[Object(o.jsx)(j.a,{path:"/",exact:!0,component:p}),Object(o.jsx)(j.a,{path:"/folder/:folderId",component:v}),Object(o.jsx)(j.a,{path:"/note/:noteId",component:g})]})}),Object(o.jsx)("section",{className:"noteViewBox",children:Object(o.jsx)(j.c,{children:Object(o.jsxs)(P,{children:[Object(o.jsx)(j.a,{path:"/",exact:!0,component:N}),Object(o.jsx)(j.a,{path:"/folder/:folderId",component:D}),Object(o.jsx)(j.a,{path:"/note/:noteId",component:w})]})})})]})]})})]})}}]),n}(a.Component);r.a.render(Object(o.jsx)(s.a,{children:Object(o.jsx)(V,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.74806c27.chunk.js.map